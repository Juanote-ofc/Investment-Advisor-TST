# CDK Structure Diagram

## 🏗️ **CDK Stack Architecture**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          CDK Investment Advisor Stack                          │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                              CDK App Layer                                  │ │
│  │                                                                             │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                        app.py (Entry Point)                            │ │ │
│  │  │                                                                         │ │ │
│  │  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                │ │ │
│  │  │  │Environment  │    │   Region    │    │   Account   │                │ │ │
│  │  │  │   Config    │    │   Config    │    │   Config    │                │ │ │
│  │  │  └─────────────┘    └─────────────┘    └─────────────┘                │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            Stack Layer                                      │ │
│  │                                                                             │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                   InvestmentAdvisorStack                               │ │ │
│  │  │                                                                         │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │   Lambda    │  │     S3      │  │     IAM     │  │  DynamoDB   │  │ │ │
│  │  │  │  Construct  │  │  Construct  │  │  Construct  │  │  Construct  │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  │                                                                         │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │API Gateway │  │ CloudWatch  │  │   Bedrock   │  │   Custom    │  │ │ │
│  │  │  │ Construct  │  │  Construct  │  │  Construct  │  │ Constructs  │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                          Construct Layer                                   │ │
│  │                                                                             │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                        Lambda Functions                                │ │ │
│  │  │                                                                         │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │Investment   │  │ Portfolio   │  │    Risk     │  │   Report    │  │ │ │
│  │  │  │ Analyzer    │  │ Optimizer   │  │  Assessor   │  │ Generator   │  │ │ │
│  │  │  │             │  │             │  │             │  │             │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │Bedrock  │ │  │ │QuantLib │ │  │ │ VaR     │ │  │ │Template │ │  │ │ │
│  │  │  │ │Client   │ │  │ │Engine   │ │  │ │Calc     │ │  │ │Engine   │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │S3 Data  │ │  │ │S3 Data  │ │  │ │S3 Data  │ │  │ │S3 Output│ │  │ │ │
│  │  │  │ │Access   │ │  │ │Access   │ │  │ │Access   │ │  │ │Storage  │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  │                                                                             │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                           S3 Buckets                                   │ │ │
│  │  │                                                                         │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │Investment   │  │ Knowledge   │  │   Assets    │  │   Reports   │  │ │ │
│  │  │  │    Data     │  │    Base     │  │   Bucket    │  │   Bucket    │  │ │ │
│  │  │  │             │  │             │  │             │  │             │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │User     │ │  │ │Research │ │  │ │Static   │ │  │ │PDF      │ │  │ │ │
│  │  │  │ │Portfolios│ │  │ │Docs     │ │  │ │Files    │ │  │ │Reports  │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │Market   │ │  │ │AI       │ │  │ │Images   │ │  │ │Excel    │ │  │ │ │
│  │  │  │ │Data     │ │  │ │Prompts  │ │  │ │CSS/JS   │ │  │ │Files    │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```
