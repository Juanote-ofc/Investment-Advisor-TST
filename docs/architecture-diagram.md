# Investment Advisor AI - Architecture Diagrams

## 🏗️ **High-Level System Architecture**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          Investment Advisor AI Platform                         │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                              Frontend Layer                                 │ │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │ │
│  │  │   Desktop   │    │   Tablet    │    │   Mobile    │    │     API     │ │ │
│  │  │    Users    │    │    Users    │    │    Users    │    │   Clients   │ │ │
│  │  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            Load Balancer Layer                             │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                    Application Load Balancer (ALB)                     │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │   Target    │  │   Health    │  │    SSL      │  │   WAF       │  │ │ │
│  │  │  │   Groups    │  │   Checks    │  │    Term     │  │  Security   │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                          Application Layer                                  │ │
│  │  ┌─────────────────────────────────────────────────────────────────────────┐ │ │
│  │  │                        ECS Fargate Cluster                             │ │ │
│  │  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  │ │ │
│  │  │  │ Streamlit   │  │ Streamlit   │  │ Streamlit   │  │ Streamlit   │  │ │ │
│  │  │  │ Container 1 │  │ Container 2 │  │ Container 3 │  │ Container N │  │ │ │
│  │  │  │             │  │             │  │             │  │             │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │   App   │ │  │ │   App   │ │  │ │   App   │ │  │ │   App   │ │  │ │ │
│  │  │  │ │ Logic   │ │  │ │ Logic   │ │  │ │ Logic   │ │  │ │ Logic   │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ │ │
│  │  │  │ │   MCP   │ │  │ │   MCP   │ │  │ │   MCP   │ │  │ │   MCP   │ │  │ │ │
│  │  │  │ │ Client  │ │  │ │ Client  │ │  │ │ Client  │ │  │ │ Client  │ │  │ │ │
│  │  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │ │ │
│  │  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  │ │ │
│  │  └─────────────────────────────────────────────────────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            MCP Server Layer                                │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │ │
│  │  │   AWS MCP   │  │ Bedrock MCP │  │Portfolio MCP│  │    S3 MCP Server    │ │ │
│  │  │   Server    │  │   Server    │  │   Server    │  │                     │ │ │
│  │  │             │  │             │  │             │  │  ┌─────────────────┐ │ │ │
│  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │  │   Data Ops      │ │ │ │
│  │  │ │   S3    │ │  │ │  Titan  │ │  │ │QuantLib │ │  │  │   File Mgmt     │ │ │ │
│  │  │ │ Lambda  │ │  │ │  Nova   │ │  │ │ Scipy   │ │  │  │   Metadata      │ │ │ │
│  │  │ │ DynamoDB│ │  │ │ Claude  │ │  │ │ NumPy   │ │  │  │   Search        │ │ │ │
│  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │  └─────────────────┘ │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                         │
│                                        ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            AWS Services Layer                              │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │ │
│  │  │   Amazon    │  │     S3      │  │   Lambda    │  │      DynamoDB       │ │ │
│  │  │   Bedrock   │  │   Storage   │  │  Functions  │  │                     │ │ │
│  │  │             │  │             │  │             │  │  ┌─────────────────┐ │ │ │
│  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │  │   User Data     │ │ │ │
│  │  │ │  Titan  │ │  │ │  Data   │ │  │ │Analyzer │ │  │  │   Sessions      │ │ │ │
│  │  │ │  Nova   │ │  │ │   KB    │ │  │ │Optimizer│ │  │  │   Portfolio     │ │ │ │
│  │  │ │ Claude  │ │  │ │ Assets  │ │  │ │Reporter │ │  │  │   Analytics     │ │ │ │
│  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │  └─────────────────┘ │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘ │ │
│  │                                                                             │ │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │ │
│  │  │     RDS     │  │ CloudWatch  │  │ API Gateway │  │      VPC/Network    │ │ │
│  │  │ (Optional)  │  │ Monitoring  │  │    (CDK)    │  │                     │ │ │
│  │  │             │  │             │  │             │  │  ┌─────────────────┐ │ │ │
│  │  │ ┌─────────┐ │  │ ┌─────────┐ │  │ ┌─────────┐ │  │  │   Subnets       │ │ │ │
│  │  │ │User DB  │ │  │ │  Logs   │ │  │ │REST API │ │  │  │   NAT Gateway   │ │ │ │
│  │  │ │Config   │ │  │ │Metrics  │ │  │ │Auth     │ │  │  │   Security Grps │ │ │ │
│  │  │ │History  │ │  │ │Alerts   │ │  │ │Rate Lmt │ │  │  │   Route Tables  │ │ │ │
│  │  │ └─────────┘ │  │ └─────────┘ │  │ └─────────┘ │  │  └─────────────────┘ │ │ │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 **Data Flow Architecture**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              Data Flow Diagram                                  │
│                                                                                 │
│  User Request                                                                   │
│       │                                                                         │
│       ▼                                                                         │
│  ┌─────────────┐    HTTPS     ┌─────────────────┐    HTTP      ┌─────────────┐ │
│  │    ALB      │ ────────────► │   ECS Fargate   │ ────────────► │ Streamlit   │ │
│  │Load Balancer│              │    Cluster      │              │    App      │ │
│  └─────────────┘              └─────────────────┘              └─────────────┘ │
│                                                                       │         │
│                                                                       ▼         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            MCP Protocol Layer                              │ │
│  │                                                                             │ │
│  │  Investment Query                Portfolio Data              Risk Analysis  │ │
│  │       │                              │                           │         │ │
│  │       ▼                              ▼                           ▼         │ │
│  │  ┌─────────────┐              ┌─────────────┐              ┌─────────────┐ │ │
│  │  │ Bedrock MCP │              │Portfolio MCP│              │   AWS MCP   │ │ │
│  │  │   Server    │              │   Server    │              │   Server    │ │ │
│  │  └─────────────┘              └─────────────┘              └─────────────┘ │ │
│  │       │                              │                           │         │ │
│  │       ▼                              ▼                           ▼         │ │
│  │  ┌─────────────┐              ┌─────────────┐              ┌─────────────┐ │ │
│  │  │   Bedrock   │              │  QuantLib   │              │     S3      │ │ │
│  │  │AI Analysis  │              │Optimization │              │   Lambda    │ │ │
│  │  └─────────────┘              └─────────────┘              └─────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                       │                                         │
│                                       ▼                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                           Response Aggregation                              │ │
│  │                                                                             │ │
│  │  AI Recommendations    +    Optimized Portfolio    +    Risk Metrics       │ │
│  │         │                           │                        │             │ │
│  │         └───────────────────────────┼────────────────────────┘             │ │
│  │                                     ▼                                       │ │
│  │                          ┌─────────────────┐                               │ │
│  │                          │   Dashboard     │                               │ │
│  │                          │   Rendering     │                               │ │
│  │                          └─────────────────┘                               │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                       │                                         │
│                                       ▼                                         │
│                              User Interface Update                             │
└─────────────────────────────────────────────────────────────────────────────────┘
```

## 🏗️ **Infrastructure Deployment Flow**

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                          Deployment Architecture                                │
│                                                                                 │
│  Developer                                                                      │
│      │                                                                         │
│      ▼                                                                         │
│  ┌─────────────┐    git push    ┌─────────────────┐                           │
│  │   GitHub    │ ──────────────► │   Repository    │                           │
│  │ Repository  │                │                 │                           │
│  └─────────────┘                └─────────────────┘                           │
│                                          │                                     │
│                                          ▼                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                          Deployment Pipeline                               │ │
│  │                                                                             │ │
│  │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │ │
│  │  │   Build     │    │    Test     │    │   Deploy    │    │   Monitor   │ │ │
│  │  │             │    │             │    │             │    │             │ │ │
│  │  │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │    │ ┌─────────┐ │ │ │
│  │  │ │ Docker  │ │    │ │  Unit   │ │    │ │Terraform│ │    │ │CloudWtch│ │ │ │
│  │  │ │ Build   │ │    │ │ Tests   │ │    │ │   CDK   │ │    │ │ Alerts  │ │ │ │
│  │  │ │ ECR     │ │    │ │ E2E     │ │    │ │ ECS     │ │    │ │ Dashbrd │ │ │ │
│  │  │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │    │ └─────────┘ │ │ │
│  │  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
│                                          │                                     │
│                                          ▼                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐ │
│  │                            AWS Infrastructure                               │ │
│  │                                                                             │ │
│  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────┐ │ │
│  │  │   Terraform     │    │      CDK        │    │      Application        │ │ │
│  │  │                 │    │                 │    │                         │ │ │
│  │  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────────────┐ │ │ │
│  │  │ │     VPC     │ │    │ │   Lambda    │ │    │ │    ECS Fargate      │ │ │ │
│  │  │ │     ECS     │ │    │ │ API Gateway │ │    │ │  Streamlit Containers│ │ │ │
│  │  │ │     ALB     │ │    │ │  DynamoDB   │ │    │ │    MCP Servers      │ │ │ │
│  │  │ │     S3      │ │    │ │ CloudWatch  │ │    │ │   Auto Scaling      │ │ │ │
│  │  │ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────────────┘ │ │ │
│  │  └─────────────────┘    └─────────────────┘    └─────────────────────────┘ │ │
│  └─────────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────┘
```
